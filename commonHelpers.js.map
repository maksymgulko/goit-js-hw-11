{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default function handleSubmit(event, renderImages) {\n  event.preventDefault();\n  const key = '45559560-5df08bb83c1629c82dd907879';\n  const form = event.target;\n  const searchResult = form.elements.picture.value.trim();\n  const loader = document.querySelector('.loader');\n  const url =\n    'https://pixabay.com/api/?key=' +\n    key +\n    '&q=' +\n    encodeURIComponent(searchResult) +\n    '&per_page=45' +\n    '&image_type=photo' +\n    '&orientation=horizontal' +\n    '&safesearch=true';\n\n  loader.style.display = 'inline-block';\n  fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(images => {\n      renderImages(images);\n    })\n    .catch(error => console.log('Error:', error))\n    .finally(() => {\n      loader.style.display = 'none';\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport default function renderImages(images) {\n  const gallery = document.querySelector('.image-gallery');\n  gallery.innerHTML = '';\n  const lightbox = new SimpleLightbox('.gallery-link', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n\n  if (images.hits.length > 0) {\n    const markup = images.hits\n      .map(image => {\n        const {\n          webformatURL,\n          largeImageURL,\n          tags,\n          views,\n          downloads,\n          likes,\n          comments,\n        } = image;\n        return `\n          <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n              <img \n                class=\"gallery-image\" \n                src=\"${webformatURL}\"\n                alt=\"${tags}\"\n              />\n            </a>\n            <div class=\"overlay\">\n            <div class=\"info\">\n                <div class=\"overlay-item\">Likes<br>${likes}</div>\n                <div class=\"overlay-item\">Views<br>${views}</div>\n                <div class=\"overlay-item\">Comments<br>${comments}</div>\n                <div class=\"overlay-item\">Downloads<br>${downloads}</div>\n                </div>\n            </div>\n          </li>`;\n      })\n      .join('');\n\n    gallery.innerHTML = markup;\n\n    lightbox.refresh();\n  } else {\n    iziToast.show({\n      message: `❌ Sorry, there are no images matching your search query.`,\n      position: 'topRight',\n      backgroundColor: '#F44336',\n      messageColor: '#fff',\n    });\n  }\n}\n","import handleSubmit from './js/pixabay-api';\nimport renderImages from './js/render-functions';\n\nconst submitForm = document.querySelector('.form');\nsubmitForm.addEventListener('submit', event =>\n  handleSubmit(event, renderImages)\n);\n"],"names":["handleSubmit","event","renderImages","key","searchResult","loader","url","response","images","error","gallery","lightbox","SimpleLightbox","markup","image","webformatURL","largeImageURL","tags","views","downloads","likes","comments","iziToast","submitForm"],"mappings":"6vBAAe,SAASA,EAAaC,EAAOC,EAAc,CACxDD,EAAM,eAAc,EACpB,MAAME,EAAM,qCAENC,EADOH,EAAM,OACO,SAAS,QAAQ,MAAM,OAC3CI,EAAS,SAAS,cAAc,SAAS,EACzCC,EACJ,gCACAH,EACA,MACA,mBAAmBC,CAAY,EAC/B,uEAKFC,EAAO,MAAM,QAAU,eACvB,MAAMC,CAAG,EACN,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAU,CACdN,EAAaM,CAAM,CACzB,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAI,SAAUA,CAAK,CAAC,EAC3C,QAAQ,IAAM,CACbJ,EAAO,MAAM,QAAU,MAC7B,CAAK,CACL,CC1Be,SAASH,EAAaM,EAAQ,CAC3C,MAAME,EAAU,SAAS,cAAc,gBAAgB,EACvDA,EAAQ,UAAY,GACpB,MAAMC,EAAW,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GAClB,CAAG,EAED,GAAIJ,EAAO,KAAK,OAAS,EAAG,CAC1B,MAAMK,EAASL,EAAO,KACnB,IAAIM,GAAS,CACZ,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,UAAAC,EACA,MAAAC,EACA,SAAAC,CACD,EAAGP,EACJ,MAAO;AAAA;AAAA,4CAE6BE,CAAa;AAAA;AAAA;AAAA,uBAGlCD,CAAY;AAAA,uBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,qDAK0BG,CAAK;AAAA,qDACLF,CAAK;AAAA,wDACFG,CAAQ;AAAA,yDACPF,CAAS;AAAA;AAAA;AAAA,gBAIlE,CAAO,EACA,KAAK,EAAE,EAEVT,EAAQ,UAAYG,EAEpBF,EAAS,QAAO,CACpB,MACIW,EAAS,KAAK,CACZ,QAAS,2DACT,SAAU,WACV,gBAAiB,UACjB,aAAc,MACpB,CAAK,CAEL,CCtDA,MAAMC,EAAa,SAAS,cAAc,OAAO,EACjDA,EAAW,iBAAiB,SAAUtB,GACpCD,EAAaC,EAAOC,CAAY,CAClC"}